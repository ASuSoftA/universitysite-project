{% extends "base.html" %}

{% block title %}Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ù…Ù†ØµØ© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©{% endblock %}

{% block content %}

  <!-- ===== Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© ===== -->
  <div id="main-content" style="opacity:0;">
    <!-- ÙƒÙ„ Ù…Ø­ØªÙˆÙ‰ index.html Ù‡Ù†Ø§ -->
  </div>

  <script>
    // Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ SplashØŒ Ø£Ø®ÙÙŠÙ‡ ÙˆØ£Ø¸Ù‡Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰
    setTimeout(() => {
      const splash = document.getElementById('splash');
      const main = document.getElementById('main-content');

      splash.style.transition = "opacity 0.8s";
      splash.style.opacity = 0;

      setTimeout(() => {
        splash.style.display = "none";
        main.style.transition = "opacity 0.8s";
        main.style.opacity = 1;
      }, 800);
    }, 4500); // Ù…Ø¯Ø© Splash
  </script>

<!-- ===== Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© ===== 
<div id="universityCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000" data-bs-pause="hover">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#universityCarousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#universityCarousel" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#universityCarousel" data-bs-slide-to="2"></button>
        <button type="button" data-bs-target="#universityCarousel" data-bs-slide-to="3"></button>
    </div>

    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="{{ url_for('static', filename='images/slider1.jpg') }}" class="d-block w-100 carousel-img" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© 1">
            <div class="carousel-caption">
                <div class="caption-bg p-4 rounded">
                    <h2>ğŸ“ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒÙ… ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©</h2>
                    <p>Ù†Ø­Ùˆ Ø¨ÙŠØ¦Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø±Ù‚Ù…ÙŠØ© ØªØ¬Ù…Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø© ÙˆØ§Ù„Ø£Ø³Ø§ØªØ°Ø© ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ù…Ø¹Ù‹Ø§.</p>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static', filename='images/slider2.jpg') }}" class="d-block w-100 carousel-img" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© 2">
            <div class="carousel-caption">
                <div class="caption-bg p-4 rounded">
                    <h2>ğŸ’¡ ØªÙˆØ§ØµÙ„ ÙˆØ§Ø¨ØªÙƒØ±</h2>
                    <p>ØªØ§Ø¨Ø¹ Ø£Ø­Ø¯Ø« Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆÙŠØ³Ø±.</p>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static', filename='images/slider4.jpg') }}" class="d-block w-100 carousel-img" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© 3">
            <div class="carousel-caption">
                <div class="caption-bg p-4 rounded">
                    <h2>ğŸ“š Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h2>
                    <p>Ø§Ø³ØªÙØ¯ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø­Ø¯ÙŠØ«Ø© Ø£ÙŠÙ†Ù…Ø§ ÙƒÙ†Øª.</p>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{{ url_for('static', filename='images/slider3.jpg') }}" class="d-block w-100 carousel-img" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© 4">
            <div class="carousel-caption">
                <div class="caption-bg p-4 rounded">
                    <h2>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒÙ… ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© ğŸ“</h2>
                    <p>Ø­ÙŠØ« ØªÙ„ØªÙ‚ÙŠ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø¨Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹.</p>
                </div>
            </div>
        </div>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#universityCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#universityCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Ø§Ù„ØªØ§Ù„ÙŠ</span>
    </button>
</div>
===== Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± ===== -->
<!--<img src="{{ url_for('static', filename='uploads/images/20251214_003513_6caa1ea3be864191899c4a413d5eff2f.jpg') }}"
     style="width:200px; border:2px solid red;">


<div id="threejs-container" style="width:100%; height:300px;"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
renderer.setSize(window.innerWidth, 300);
document.getElementById('threejs-container').appendChild(renderer.domElement);

// ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© ÙƒØ®Ø§Ù…Ø©
const loader = new THREE.TextureLoader();
const texture = loader.load('{{ url_for("static", filename="uploads/images/20251214_003513_6caa1ea3be864191899c4a413d5eff2f.jpg") }}');

// Ø¥Ù†Ø´Ø§Ø¡ Plane (Ù…Ø³ØªØ·ÙŠÙ„)
const geometry = new THREE.PlaneGeometry(2, 2); // Ø¹Ø±Ø¶ ÙˆØ§Ø±ØªÙØ§Ø¹ Plane
const material = new THREE.MeshBasicMaterial({ map: texture, transparent: true });
const plane = new THREE.Mesh(geometry, material);
scene.add(plane);

camera.position.z = 5;

function animate() {
    requestAnimationFrame(animate);
    plane.rotation.y += 0.01; // Ø¯ÙˆØ±Ø§Ù† Ø§Ù„ØµÙˆØ±Ø© Ø­ÙˆÙ„ Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø±Ø£Ø³ÙŠ
    renderer.render(scene, camera);
}
animate();
</script> -->

<div id="threejs-container" style="width:100%; height:300px; margin-top:0; padding-top:0;"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
const container = document.getElementById('threejs-container');
const width = container.clientWidth;
const height = container.clientHeight;

const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
camera.position.z = 3.5;

const renderer = new THREE.WebGLRenderer({
    antialias: true,
    alpha: true
});
renderer.setSize(width, height);
renderer.setClearColor(0x000000, 0); // Ø´ÙØ§ÙÙŠØ©
container.appendChild(renderer.domElement);

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
const loader = new THREE.TextureLoader();
//const texture = loader.load(
  // '{{ url_for("static", filename="uploads/images/20251214_212346_ce9bd94371524df893cb706c5a5e10fa.jpg") }}'
//);

const materials = [
    new THREE.MeshBasicMaterial({
        map: loader.load('{{ url_for("static", filename="uploads/images/20251214_212346_ce9bd94371524df893cb706c5a5e10fa.jpg") }}')
    }),
    new THREE.MeshBasicMaterial({
        map: loader.load('{{ url_for("static", filename="uploads/images/IMG-20251202-WA0051.jpg") }}')
    }),
    new THREE.MeshBasicMaterial({
        map: loader.load('{{ url_for("static", filename="uploads/images/IMG-20251202-WA0053.jpg") }}')
    }),
    new THREE.MeshBasicMaterial({
        map: loader.load('{{ url_for("static", filename="uploads/images/23d6a95f48ddb2e341382b42f2f2ba90.jpg") }}')
    }),
    new THREE.MeshBasicMaterial({
        map: loader.load('{{ url_for("static", filename="uploads/images/07b6b7b0a7f7cc4c9d2b7137c6658dc5.jpg") }}')
    }),
    new THREE.MeshBasicMaterial({
        map: loader.load('{{ url_for("static", filename="uploads/images/909452205a43160f9d3576966802333d.jpg") }}')
    })
];

const light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(5,5,5);
scene.add(light);

const ambient = new THREE.AmbientLight(0xffffff, 0.4);
scene.add(ambient);


 // Ù…ÙƒØ¹Ø¨ Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø©
const geometry = new THREE.BoxGeometry();
//const material = new THREE.MeshBasicMaterial({ map: texture });
//const cube = new THREE.Mesh(geometry, material);
const cube = new THREE.Mesh(geometry, materials);

// ØªÙƒØ¨ÙŠØ± Ø§Ù„Ù…ÙƒØ¹Ø¨
cube.scale.set(1.8, 1.8, 1.8);

scene.add(cube);

document.addEventListener('mousemove', (event) => {
    cube.rotation.y = (event.clientX / window.innerWidth) * Math.PI * 2;
    cube.rotation.x = (event.clientY / window.innerHeight) * Math.PI * 2;
});


function animate() {
    requestAnimationFrame(animate);
    cube.rotation.x -= 0.003;
    cube.rotation.y -= 0.004;

    //cube.position.x += 0.01; // ÙŠØªØ­Ø±Ùƒ Ù†Ø­Ùˆ Ø§Ù„ÙŠÙ…ÙŠÙ†
    //cube.position.y += 0.01; // ÙŠØªØ­Ø±Ùƒ Ù„Ù„Ø£Ø¹Ù„Ù‰

    //cube.position.x = Math.sin(Date.now() * 0.001) * 2; // ÙŠØªØ­Ø±Ùƒ Ø°Ù‡Ø§Ø¨Ø§Ù‹ ÙˆØ¥ÙŠØ§Ø¨Ø§Ù‹ Ø¹Ù„Ù‰ X
    //cube.position.y = Math.cos(Date.now() * 0.001) * 1.5; // ÙŠØªØ­Ø±Ùƒ Ø°Ù‡Ø§Ø¨Ø§Ù‹ ÙˆØ¥ÙŠØ§Ø¨Ø§Ù‹ Ø¹Ù„Ù‰ Y

    //cube.rotation.x = time / 2000; // Ø¯ÙˆØ±Ø§Ù† Ù…Ø³ØªÙ…Ø± Ù…Ø¹ Ø§Ù„Ø²Ù…Ù†
    //cube.rotation.y = time / 3000;

    //const radius = 2;
    //const speed = 0.001;
    //cube.position.x = Math.cos(Date.now() * speed) * radius;
    //cube.position.z = Math.sin(Date.now() * speed) * radius;

    //cube.position.y = Math.abs(Math.sin(Date.now() * 0.0005)) * 2;

    //cube.position.x = Math.sin(Date.now() * 0.0002) * 3;
    //cube.position.y = Math.cos(Date.now() * 0.0003) * 2;
    //cube.position.z = Math.sin(Date.now() * 0.0004) * 1.5;

    renderer.render(scene, camera);
}
animate();

// Ø¯Ø¹Ù… ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ø´Ø§Ø´Ø©
window.addEventListener('resize', () => {
    const w = container.clientWidth;
    const h = container.clientHeight;
    camera.aspect = w / h;
    camera.updateProjectionMatrix();
    renderer.setSize(w, h);
});

material = new THREE.MeshStandardMaterial({
    map: texture,
    metalness: 0.5,
    roughness: 0.1,
    transparent: true,
    opacity: 0.9
});

</script>
<!-- ===== Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© ===== -->
<div id="animatedTextCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000" data-bs-pause="hover">
    <div class="carousel-inner text-center">

        <div class="carousel-item active">
            <h2 class="animated-text">ğŸ“ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒÙ… ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©</h2>
            <p class="animated-text">Ù†Ø­Ùˆ Ø¨ÙŠØ¦Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø±Ù‚Ù…ÙŠØ© ØªØ¬Ù…Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø© ÙˆØ§Ù„Ø£Ø³Ø§ØªØ°Ø© ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ù…Ø¹Ù‹Ø§.</p>
        </div>

        <div class="carousel-item">
            <h2 class="animated-text">ğŸ’¡ ØªÙˆØ§ØµÙ„ ÙˆØ§Ø¨ØªÙƒØ±</h2>
            <p class="animated-text">ØªØ§Ø¨Ø¹ Ø£Ø­Ø¯Ø« Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆÙŠØ³Ø±.</p>
        </div>

        <div class="carousel-item">
            <h2 class="animated-text">ğŸ“š Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h2>
            <p class="animated-text">Ø§Ø³ØªÙØ¯ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø­Ø¯ÙŠØ«Ø© Ø£ÙŠÙ†Ù…Ø§ ÙƒÙ†Øª.</p>
        </div>
<div class="carousel-item">
    <h2 class="animated-text">ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ</h2>
    <p class="animated-text">Ø§Ø³ØªÙƒØ´Ù Ø±Ø¤ÙŠØ© ÙˆØ±Ø³Ø§Ù„Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©ØŒ ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„ØªØ®ØµØµØ§ØªØŒ ÙˆØ§ÙƒØªØ´Ù Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… ÙˆÙ…ÙˆØ§Ø¹ÙŠØ¯ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆÙŠØ³Ø±.</p>
</div>

    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… 
    <button class="carousel-control-prev" type="button" data-bs-target="#animatedTextCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bg-dark rounded-circle p-2" aria-hidden="true"></span>
        <span class="visually-hidden">Ø§Ù„Ø³Ø§Ø¨Ù‚</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#animatedTextCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon bg-dark rounded-circle p-2" aria-hidden="true"></span>
        <span class="visually-hidden">Ø§Ù„ØªØ§Ù„ÙŠ</span>
    </button>-->
</div>
<!-- ===== CSS ===== -->
<style>
.animated-text {
    display: inline-block;
    font-weight: 700;
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    opacity: 0;
    transform: translateX(100%);
    animation: slideIn 1s forwards;
}

.carousel-item p.animated-text {
    font-size: 1rem;
    margin: 0;
}

@keyframes slideIn {
    0% {
        opacity: 0;
        transform: translateX(100%);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

/* ØªØ£Ø«ÙŠØ± Ø®Ø±ÙˆØ¬ Ø§Ù„Ù†Øµ Ø¹Ù†Ø¯ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù†ØµØ± */
.carousel-item-next .animated-text,
.carousel-item-prev .animated-text {
    opacity: 0;
    transform: translateX(-100%);
    transition: transform 0.5s, opacity 0.5s;
}

#animatedTextCarousel {
    margin-top: 10px;   /* Ø¨Ø¯Ù„Ù‹Ø§ Ù…Ù† my-5 */
    margin-bottom: 10px;
}

</style>
<!-- ===== JavaScript Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± ===== -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    const carousel = document.getElementById('animatedTextCarousel');

    function animateTexts(item) {
        const texts = item.querySelectorAll('.animated-text');
        texts.forEach(text => {
            text.style.opacity = '0';
            text.style.transform = 'translateX(100%)';
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù€ animation
            text.offsetWidth; // force reflow
            text.style.animation = 'slideIn 1s forwards';
        });
    }

    // Ø¨Ø¯Ø¡ Ø£ÙˆÙ„ Ø¹Ù†ØµØ±
    animateTexts(carousel.querySelector('.carousel-item.active'));

    // Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯
    carousel.addEventListener('slid.bs.carousel', function (e) {
        animateTexts(e.relatedTarget);
    });
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.faculty-link').forEach(el => {
        el.addEventListener('click', function () {
            const faculty = this.dataset.faculty;
            window.location.href = `/faculty/${encodeURIComponent(faculty)}`;
        });
    });
});
</script>



<div class="row mt-4">
    <!-- Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="col-lg-6 col-md-8">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="mb-0">Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª</h2>
            <span class="badge bg-primary">{{ posts|length }} Ù…Ù†Ø´ÙˆØ±</span>
        </div>

        <div class="posts-container">
    {% if posts %}
        {% for post in posts %}
        <div class="card post-card" id="post-{{ post.id }}">
            <!-- Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ù†Ø´ÙˆØ± -->
            <div class="card-header d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <img src="{{ url_for('static', filename='uploads/images/' + post.author.profile_image) if post.author.profile_image and post.author.profile_image != 'default_profile.png' else url_for('static', filename='images/default_profile.png') }}"
                         class="rounded-circle profile-img " alt="ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„">

                    <!-- Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„ÙƒÙ„ÙŠØ© -->
                    <a href="{{ url_for('main.faculty_posts', faculty_name=post.faculty.name) }}" 
   class="faculty-link" style="cursor:pointer; font-weight:bold; text-decoration:none; color:inherit; margin-right:0.8rem;">
    {{ post.author.username }}
</a>

                </div>

                <span class="post-date">{{ post.created_at.strftime('%Y-%m-%d') }}</span>
            </div>
                    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ± -->
                    <div class="card-body">
                        {% if post.title %}<h5 class="card-title">{{ post.title }}</h5>{% endif %}
                        {% if post.content %}<p class="card-text">{{ post.content }}</p>{% endif %}

                        {% if post.image_path %}
                        <div class="post-image mb-2">
                            <img src="{{ url_for('static', filename='uploads/images/' ~ post.image_path) }}" class="img-fluid" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†Ø´ÙˆØ±">
                        </div>
                        {% endif %}

                        {% if post.video_path %}
                        <div class="post-video mb-2">
                            <video class="w-100" controls>
                                <source src="{{ url_for('static', filename='uploads/videos/' ~ post.video_path) }}" type="video/mp4">
                                Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                            </video>
                        </div>
                        {% endif %}
                    </div>

                    <!-- Ø§Ù„ÙÙˆØªØ± -->
                    <div class="card-footer d-flex justify-content-between align-items-center">
                        <!-- Ø§Ù„ÙŠØ³Ø§Ø±: Ø²Ø± Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ -->
                        <div>
                            <button class="btn btn-outline-secondary btn-sm comment-btn" data-post-id="{{ post.id }}">
                                <i class="bi bi-chat"></i> <span class="d-none d-md-inline">ØªØ¹Ù„ÙŠÙ‚</span>
                            </button>
                        </div>

                        <!-- Ø§Ù„ÙŠÙ…ÙŠÙ†: Ø¥Ø¹Ø¬Ø§Ø¨ + Ø¹Ø¯Ø§Ø¯ + Ù…Ø´Ø§Ø±ÙƒØ© -->
                        <div class="d-flex align-items-center gap-2">
                            <button class="btn btn-outline-primary btn-sm like-btn" data-post-id="{{ post.id }}">
                                <i class="bi bi-hand-thumbs-up like-icon"></i>
                            </button>
                            <span class="likes-count fw-bold">{{ post.likes.count() }}</span>

                            <div class="share-wrapper position-relative">
    <button class="btn btn-outline-success btn-sm share-btn" data-post-id="{{ post.id }}">
        <i class="bi bi-share"></i> <span class="d-none d-md-inline"></span>
    </button>
    <div class="share-options d-none">
    <button class="share-link" title="Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·"><i class="bi bi-link-45deg"></i></button>
    <button class="share-facebook" title="ÙÙŠØ³Ø¨ÙˆÙƒ"><i class="bi bi-facebook"></i></button>
    <button class="share-twitter" title="ØªÙˆÙŠØªØ±"><i class="bi bi-twitter"></i></button>
    <button class="share-whatsapp" title="ÙˆØ§ØªØ³Ø§Ø¨"><i class="bi bi-whatsapp"></i></button>
    <button class="share-telegram" title="ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…"><i class="bi bi-telegram"></i></button>
    <button class="share-instagram" title="Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù…"><i class="bi bi-instagram"></i></button>

    </div>
</div>
</div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="card text-center py-5">
                    <i class="bi bi-inbox display-4 text-muted mb-3"></i>
                    <h4 class="text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</h4>
                    <p class="text-muted">ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠÙ†Ø´Ø± Ù…Ø­ØªÙˆÙ‰ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©</p>
                </div>
            {% endif %}
        </div>
    </div>

    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
    <div class="col-lg-3 col-md-4">
        <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="sidebar-stats mb-4">
            <h5>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù†ØµØ©</h5>
            <div class="stat-item"><span>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª</span><span class="stat-value">{{ stats.total_posts }}</span></div>
            <div class="stat-item"><span>Ù…Ù†Ø´ÙˆØ±Ø§Øª Ù…Ù†Ø´ÙˆØ±Ø©</span><span class="stat-value">{{ stats.published_posts }}</span></div>
            <div class="stat-item"><span>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</span><span class="stat-value">{{ stats.total_users }}</span></div>
            <div class="stat-item"><span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª</span><span class="stat-value">{{ stats.total_likes }}</span></div>
        </div>

        <!-- Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª -->
        <div class="card sidebar-card mb-4">
            <div class="card-header"><h6>Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª</h6></div>
            <div class="card-body">
                <div class="list-group">
                    {% for post in posts[:5] %}
                    <a href="#post-{{ post.id }}" class="list-group-item list-group-item-action">
                        <div class="d-flex align-items-center">
                            {% if post.post_type == 'image' %}
                            <i class="bi bi-image text-primary me-2"></i>
                            {% elif post.post_type == 'video' %}
                            <i class="bi bi-play-circle text-success me-2"></i>
                            {% else %}
                            <i class="bi bi-text-paragraph text-info me-2"></i>
                            {% endif %}
                            <span>{{ (post.title or '')[:25] }}{% if post.title and post.title|length > 25 %}...{% endif %}</span>
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Ø£Ù†Ø´Ø·Ø© Ø­Ø¯ÙŠØ«Ø© -->
        <div class="card sidebar-card">
            <div class="card-header"><h6>Ø£Ù†Ø´Ø·Ø© Ø­Ø¯ÙŠØ«Ø©</h6></div>
            <div class="card-body">
                <div class="activity-list">
                    <div class="activity-item"><i class="bi bi-hand-thumbs-up text-primary"></i><span>5 Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</span></div>
                    <div class="activity-item"><i class="bi bi-share text-success"></i><span>3 Ù…Ø´Ø§Ø±ÙƒØ§Øª Ø¬Ø¯ÙŠØ¯Ø©</span></div>
                    <div class="activity-item"><i class="bi bi-person-plus text-info"></i><span>Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ Ø§Ù†Ø¶Ù…</span></div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_css %}
.post-video video {
    width: 100%;
    height: auto;
    min-height: 250px; /* Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹ */
    object-fit: contain;
    background: #000; /* ÙŠÙ…Ù†Ø¹ Ø§Ù„ØªØ´ÙˆÙ‡ */
}

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<script src="{{ url_for('static', filename='js/media.js') }}"></script>
<script src="{{ url_for('static', filename='js/interaction.js') }}"></script>
{% endblock %}
